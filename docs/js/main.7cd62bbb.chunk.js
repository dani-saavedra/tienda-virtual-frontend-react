(this.webpackJsonpprimeraapp=this.webpackJsonpprimeraapp||[]).push([[0],{34:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(17),i=c.n(r),a=c(7),s=c(6),o=c.n(s),j=c(8),d=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:9090/producto/all");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(j.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:9090/producto/referencia/".concat(t));case 2:return c=e.sent,e.next=5,c.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b={consultarProductos:d,consultarProductoPorReferencia:l},u=c(5),h=c(0),O=function(e){var t=e.p,c=t.referencia,n=t.marca,r=t.cantidad,i=t.precio,a=t.disponibilidad;return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:c}),Object(h.jsx)("td",{children:n}),Object(h.jsx)("td",{children:r}),Object(h.jsx)("td",{children:i}),Object(h.jsx)("td",{children:a}),Object(h.jsx)("td",{children:Object(h.jsx)(u.b,{to:"/producto/detalle/".concat(c),children:"Ver detalle"})})]},c)},x=function(){var e=Object(n.useState)([]),t=Object(a.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){b.consultarProductos().then((function(e){return r(e)})).catch((function(e){console.log("Mori")}))}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{className:"btn btn-primary",onClick:function(){b.consultarProductos().then((function(e){return r(e)})).catch((function(e){console.log("Mori")}))},children:"Cargue los elementos "}),Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Referencia"}),Object(h.jsx)("th",{children:"Marca"}),Object(h.jsx)("th",{children:"Cantidad"}),Object(h.jsx)("th",{children:"Precio"}),Object(h.jsx)("th",{children:"Disponibilidad"}),Object(h.jsx)("th",{children:"Acciones"})]})}),Object(h.jsx)("tbody",{id:"bodyTabla",children:c.map((function(e){return Object(h.jsx)(O,{p:e})}))})]})]})},p=function(e){var t=e.match.params.referencia,c=Object(n.useState)({}),r=Object(a.a)(c,2),i=r[0],s=r[1];return Object(n.useEffect)((function(){b.consultarProductoPorReferencia(t).then((function(e){s(e)})).catch((function(e){console.log(e)}))}),[]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("h1",{children:["Detalle del producto ",t," "]}),Object(h.jsx)("img",{src:i.urlFotografia,width:"300px"}),Object(h.jsxs)("table",{className:"table",children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Referencia"}),Object(h.jsx)("td",{children:i.referencia})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"marca"}),Object(h.jsx)("td",{children:i.marca})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"materiales"}),Object(h.jsx)("td",{children:i.materiales})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"categoria"}),Object(h.jsx)("td",{children:i.categoria})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"descripcion"}),Object(h.jsx)("td",{children:i.descripcion})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"disponibilidad"}),Object(h.jsx)("td",{children:i.disponibilidad})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"precio"}),Object(h.jsx)("td",{children:i.precio})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"cantidad"}),Object(h.jsx)("td",{children:i.cantidad})]})]})]})},f=function(){return Object(h.jsx)("h1",{children:"Esta pagina no existe"})},v=c(2),m=function(){return Object(h.jsx)("div",{children:Object(h.jsx)("nav",{class:"navbar navbar-expand-lg navbar-light bg-light",children:Object(h.jsx)("div",{class:"collapse navbar-collapse",id:"navbarNav",children:Object(h.jsxs)("ul",{class:"navbar-nav",children:[Object(h.jsx)("li",{class:"nav-item active",children:Object(h.jsx)("a",{class:"nav-link",children:Object(h.jsx)(u.b,{to:"/",children:"Inicio"})})}),Object(h.jsx)("li",{class:"nav-item",children:Object(h.jsx)("a",{class:"nav-link",children:Object(h.jsx)(u.b,{to:"/producto",children:"Productos"})})}),Object(h.jsx)("li",{class:"nav-item",children:Object(h.jsx)("a",{class:"nav-link",children:Object(h.jsx)(u.b,{to:"/cliente",children:"Clientes"})})}),Object(h.jsx)("li",{class:"nav-item",children:Object(h.jsx)("a",{class:"nav-link",children:Object(h.jsx)(u.b,{to:"/pedido",children:"Pedidos"})})})]})})})})},g=function(){return Object(h.jsx)("div",{children:Object(h.jsxs)("ul",{class:"nav flex-column",children:[Object(h.jsx)("li",{class:"nav-item",children:Object(h.jsx)("a",{class:"nav-link",children:Object(h.jsx)(u.b,{to:"/producto/registrar",children:"Registrar Producto"})})}),Object(h.jsx)("li",{class:"nav-item",children:Object(h.jsx)("a",{class:"nav-link",children:Object(h.jsx)(u.b,{to:"/producto/listar",children:"Listar Productos"})})})]})})},P=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m,{}),Object(h.jsx)(g,{})]})},k=c(16),S=function(){var e=Object(j.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:9090/cliente/obtenerlos");case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=S,w=function(){var e,t,c,r=Object(n.useState)([]),i=Object(a.a)(r,2),s=i[0],o=i[1],j=Object(n.useState)([]),d=Object(a.a)(j,2),l=d[0],u=d[1],O=Object(n.useState)([]),x=Object(a.a)(O,2),p=x[0],f=x[1],v=Object(n.useState)(0),m=Object(a.a)(v,2),g=m[0],P=m[1];Object(n.useEffect)((function(){C().then((function(e){u(e.clientes)})).catch((function(e){console.log(e)})),b.consultarProductos().then((function(e){f(e)})).catch((function(e){console.log(e)}))}),[]);var S=function(e,t){var c=s.map((function(e){return e.producto.referencia})).indexOf(e.referencia);if(-1!==c){var n=s[c];n.cantidadSeleccionada=n.cantidadSeleccionada+parseInt(t);var r=y(n.producto.referencia,n.total);w(n.producto,n.cantidadSeleccionada,r,g-n.total)}else w(e,t,s,g)},w=function(e,t,c,n){var r=Object(k.a)(c);r.push({producto:e,cantidadSeleccionada:parseInt(t),total:parseInt(t)*e.precio}),P(n+parseInt(t)*e.precio),o(r)},y=function(e,t){var c=s.map((function(e){return e.producto.referencia})).indexOf(e),n=Object(k.a)(s);return n.splice(c,1),o(n),P(g-t),n};return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Nuevo Pedido"}),Object(h.jsx)("label",{children:"Cliente "}),Object(h.jsxs)("select",{id:"cliente",className:"form-select",ref:function(e){return c=e},children:[Object(h.jsx)("option",{value:""}),l.map((function(e,t){return Object(h.jsxs)("option",{value:e,children:[" ",e]},t)}))]}),Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(h.jsx)("label",{children:"Producto a vender "}),Object(h.jsxs)("select",{id:"producto",ref:function(e){return t=e},children:[Object(h.jsx)("option",{}),p.map((function(e,t){return Object(h.jsx)("option",{value:e.referencia,children:e.descripcion},t)}))]}),Object(h.jsx)("label",{children:"Cantidad"}),Object(h.jsx)("input",{type:"number",id:"cantidadProducto",ref:function(t){return e=t}}),Object(h.jsx)("button",{onClick:function(){b.consultarProductoPorReferencia(t.value).then((function(t){t.cantidad<e.value?alert("El producto no cuenta con esa cantidad disponible"):S(t,e.value)}))},children:"Agregar al pedido"}),Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Descripcion"}),Object(h.jsx)("th",{children:"Cantidad"}),Object(h.jsx)("th",{children:"Precio Unitario"}),Object(h.jsx)("th",{children:"Precio Total"}),Object(h.jsx)("th",{})]})}),Object(h.jsx)("tbody",{children:s.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.producto.descripcion}),Object(h.jsx)("td",{children:e.cantidadSeleccionada}),Object(h.jsx)("td",{children:e.producto.precio}),Object(h.jsx)("td",{children:e.total}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{onClick:function(){return y(e.producto.referencia,e.total)},children:"Eliminar Producto"})})]},e.producto.referencia)}))}),Object(h.jsx)("tfoot",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{colSpan:"3",children:"Total"}),Object(h.jsx)("th",{children:g}),Object(h.jsx)("th",{})]})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{onClick:function(){o([]),P(0),c.value=""},children:"Limpiar"}),Object(h.jsx)("button",{onClick:function(){},children:"Registrar Pedido"})]})]})})]})};i.a.render(Object(h.jsx)(u.a,{children:Object(h.jsxs)(v.c,{children:[Object(h.jsx)(v.a,{exact:!0,path:"/",component:m}),Object(h.jsx)(v.a,{exact:!0,path:"/producto",component:P}),Object(h.jsx)(v.a,{exact:!0,path:"/pedido",component:w}),Object(h.jsx)(v.a,{exact:!0,path:"/producto/registrar",component:x}),Object(h.jsx)(v.a,{exact:!0,path:"/producto/listar",component:x}),Object(h.jsx)(v.a,{exact:!0,path:"/producto/detalle/:referencia",component:p}),Object(h.jsx)(v.a,{path:"/",component:f})]})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.7cd62bbb.chunk.js.map